[{"/Users/wendymichels/WebstormProjects/greenery/src/index.js":"1","/Users/wendymichels/WebstormProjects/greenery/src/reportWebVitals.js":"2","/Users/wendymichels/WebstormProjects/greenery/src/App.js":"3","/Users/wendymichels/WebstormProjects/greenery/src/context/AuthContext.js":"4","/Users/wendymichels/WebstormProjects/greenery/src/pages/Profile.js":"5","/Users/wendymichels/WebstormProjects/greenery/src/pages/SignUp.js":"6","/Users/wendymichels/WebstormProjects/greenery/src/pages/SignIn.js":"7","/Users/wendymichels/WebstormProjects/greenery/src/pages/Home.js":"8","/Users/wendymichels/WebstormProjects/greenery/src/components/Header.js":"9","/Users/wendymichels/WebstormProjects/greenery/src/components/AvatarUploader.js":"10","/Users/wendymichels/WebstormProjects/greenery/src/components/Search.js":"11","/Users/wendymichels/WebstormProjects/greenery/src/components/Footer.js":"12","/Users/wendymichels/WebstormProjects/greenery/src/pages/UpdateUser.js":"13","/Users/wendymichels/WebstormProjects/greenery/src/components/PageNavigation.js":"14"},{"size":742,"mtime":1611253274566,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1611252598227,"results":"17","hashOfConfig":"16"},{"size":1499,"mtime":1614370080375,"results":"18","hashOfConfig":"16"},{"size":1545,"mtime":1613816067658,"results":"19","hashOfConfig":"16"},{"size":1210,"mtime":1614155116728,"results":"20","hashOfConfig":"16"},{"size":3890,"mtime":1614155116687,"results":"21","hashOfConfig":"16"},{"size":2619,"mtime":1614155116746,"results":"22","hashOfConfig":"16"},{"size":329,"mtime":1614155116651,"results":"23","hashOfConfig":"16"},{"size":1862,"mtime":1614370200585,"results":"24","hashOfConfig":"16"},{"size":1923,"mtime":1614375190811,"results":"25","hashOfConfig":"16"},{"size":6559,"mtime":1614356275835,"results":"26","hashOfConfig":"16"},{"size":415,"mtime":1613659518113,"results":"27","hashOfConfig":"16"},{"size":3606,"mtime":1614370080358,"results":"28","hashOfConfig":"16"},{"size":1019,"mtime":1614356405729,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"5l6vyn",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"32"},"/Users/wendymichels/WebstormProjects/greenery/src/index.js",[],["64","65"],"/Users/wendymichels/WebstormProjects/greenery/src/reportWebVitals.js",[],"/Users/wendymichels/WebstormProjects/greenery/src/App.js",[],"/Users/wendymichels/WebstormProjects/greenery/src/context/AuthContext.js",["66"],"import React, { createContext, useContext, useEffect, useState } from 'react';\n\nconst AuthContext = createContext({});\n\nfunction AuthContextProvider({ children }) {\n    const [authState, setAuthState] = useState({\n        status: 'pending',\n        error: null,\n        user: null,\n    })\n\n    useEffect(() => {\n\n        setTimeout(() => {\n            setAuthState({\n                ...authState,\n                status: 'done',\n            })\n        }, 2000)\n    }, []);\n\n    function login(data) {\n        localStorage.setItem('token', data.accessToken);\n\n        setAuthState({\n            ...authState,\n            user: {\n                username: data.username,\n                email: data.email,\n                roles: data.roles,\n                avatar: data.avatar\n            }\n        })\n\n    }\n\n    function logout() {\n\n        localStorage.clear();\n        setAuthState({\n            ...authState,\n            user: null,\n        })\n    }\n\n    return (\n        <AuthContext.Provider value={{ ...authState, login, logout }}>\n            {authState.status === 'done' && children}\n            {authState.status === 'pending' && <p>Loading...</p>}\n        </AuthContext.Provider>\n    );\n}\n\nfunction useAuthState() {\n    const authState = useContext(AuthContext);\n\n\n    const isDone = authState.status === 'done';\n    const isAuthenticated = authState.user !== null && isDone;\n\n\n    return {\n        ...authState,\n        isAuthenticated: isAuthenticated,\n    }\n}\n\nexport {\n    AuthContext,\n    useAuthState,\n    AuthContextProvider,\n}\n","/Users/wendymichels/WebstormProjects/greenery/src/pages/Profile.js",[],"/Users/wendymichels/WebstormProjects/greenery/src/pages/SignUp.js",[],"/Users/wendymichels/WebstormProjects/greenery/src/pages/SignIn.js",["67"],"import React, { useState, useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext, useAuthState } from '../context/AuthContext';\nimport { ReactComponent as Spinner } from '../assets/refresh.svg';\n\nfunction SignIn() {\n    const { login } = useContext(AuthContext);\n    const { isAuthenticated } = useAuthState();\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n\n    const [loading, toggleLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const history = useHistory();\n\n    useEffect(() => {\n        if (isAuthenticated === true) {\n            history.push('/profile');\n        }\n    }, [isAuthenticated]);\n\n    async function onSubmit(event) {\n        toggleLoading(true);\n        setError('');\n\n        event.preventDefault();\n\n        try {\n            const response = await axios.post('http://localhost:8080/api/auth/signin', {\n                username: username,\n                password: password,\n            })\n\n            login(response.data);\n            console.log(response.data)\n        } catch(e) {\n            console.error(e);\n            setError('Login failed');\n        }\n        toggleLoading(false);\n    }\n\n    return (\n        <>\n            <h1>Login</h1>\n            <div className=\"text-form-container\">\n                <form className=\"text-form\" onSubmit= { onSubmit } >\n\n                    <label htmlFor=\"username-field\">\n                        Username:\n                        <input\n                            type=\"text\"\n                            id=\"username-field\"\n                            value={ username }\n                            onChange={ (e) => setUsername(e.target.value) } />\n                    </label>\n\n                    <label htmlFor=\"password-field\">\n                        Password:\n                        <input\n                            type=\"password\"\n                            id=\"password-field\"\n                            value={ password }\n                            onChange={ (e) => setPassword(e.target.value) } />\n                    </label>\n\n                    <button\n                        type=\"submit\"\n                        className=\"form-button\"\n                        disabled={ loading }\n                    >\n                        { loading ? <Spinner className=\"loading-icon\" /> : 'Login' }\n                    </button>\n                    { error && <p> { error } </p>}\n                </form>\n            </div>\n        </>\n    );\n}\n\nexport default SignIn;\n","/Users/wendymichels/WebstormProjects/greenery/src/pages/Home.js",["68"],"import React from 'react';\nimport { useAuthState } from '../context/AuthContext';\nimport Search from \"../components/Search\";\n\nfunction Home() {\n    const { isAuthenticated } = useAuthState();\n\n    return (\n        <>\n            <h1>Welcome to the Greenery</h1>\n            < Search />\n        </>\n    );\n}\n\nexport default Home;\n","/Users/wendymichels/WebstormProjects/greenery/src/components/Header.js",["69"],"/Users/wendymichels/WebstormProjects/greenery/src/components/AvatarUploader.js",["70","71","72","73"],"/Users/wendymichels/WebstormProjects/greenery/src/components/Search.js",["74"],"import React from 'react';\n// import { render } from \"@testing-library/react\";\nimport './Styles/Search.css';\nimport axios from 'axios';\nimport Loader from '../assets/loader.gif'\nimport PageNavigation from \"./PageNavigation\";\n\n//Juiste url is:`https://trefle.io/api/v1/plants/search?&q=${query}&token=${token}&page=${pageNumber}`\n//trefle token:'BC09Zl9KrfbB6rTcw_kq-YBdKRpfjYITLdotI3wrZNc'\n\n//temporary url:;\n//temporary token:;\n\nclass Search extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            query: '',\n            results: {},\n            loading: false,\n            message: '',\n            totalResults: 0,\n            totalPages: 0,\n            currentPageNo: 0,\n        };\n\n        this.cancel = '';\n    }\n\n    getPageCount = (total, denominator) => {\n        const divisible = 0 === total % denominator;\n        const valueToBeAdded = divisible ? 0 : 1;\n        return Math.floor(total / denominator) + valueToBeAdded;\n    }\n\n    fetchSearchResults = (updatedPageNo = '', query) => {\n        const token = \"20310953-81227b282e6055f395eba7999\";\n        const pageNumber = updatedPageNo ? `&page=${updatedPageNo}` : '';\n        const searchUrl = `https://pixabay.com/api/?key=${token}&q=${query}${pageNumber}`;\n\n        if (this.cancel) {\n            this.cancel.cancel();\n        }\n\n        this.cancel = axios.CancelToken.source();\n\n        axios.get(searchUrl, {\n            cancelToken: this.cancel.token\n        })\n            .then(res => {\n                const total = res.data.total;\n                const totalPagesCount = this.getPageCount(total, 20);\n                const resultNotFoundMsg = !res.data.hits.length\n                                                                ? 'there are no more search results '\n                                                                : '';\n                this.setState({\n                    results: res.data.hits,\n                    message: resultNotFoundMsg,\n                    totalResults: total,\n                    totalPages: totalPagesCount,\n                    currentPageNo: updatedPageNo,\n                    loading: false\n                })\n                // console.log(res.data)\n            })\n            .catch(error => {\n                if (axios.isCancel(error) || error) {\n                    this.setState({\n                        loading: false,\n                        message: 'Failed to fetch the data'\n                    })\n                }\n            })\n    };\n\n    handleOnInputChange = (event) => {\n        const query = event.target.value;\n        if (!query) {\n            this.setState({ query, results: {}, message: '', totalPages: 0, totalResults: 0 } );\n        } else {\n            this.setState({ query, loading: true, message: ''}, () => {\n                this.fetchSearchResults(1, query);\n            });\n        }\n    };\n\n    handlePageClick = ( event, type ) => {\n        event.preventDefault();\n        const updatePageNo = 'prev' === type\n            ? this.state.currentPageNo - 1\n            : this.state.currentPageNo + 1;\n\n        if ( ! this.state.loading ) {\n            this.setState( { loading: true, message: '' }, () => {\n                this.fetchSearchResults( updatePageNo,  this.state.query );\n            })\n        }\n\n    };\n\n    renderSearchResults = () => {\n        const { results } = this.state;\n\n        if ( Object.keys( results ).length && results.length ) {\n            return (\n                <div className=\"results-container\">\n                    { results.map( result => {\n                        return (\n                            <a key={ result.id } href={ result.previewURL } className=\"result-item\">\n                                {/*<a key={ result.id } href={ result.links.self } className=\"result-item\">*/}\n                                <h6 className=\"image-username\">{result.user}</h6>\n                                <div className=\"image-wrapper\">\n                                    <img className=\"image\" src={ result.previewURL } alt={`${result.user} image`} />\n                                    {/*<img className=\"image\" src={ result.image_url } alt={`${result.common_name} image`}/>*/}\n\n                                </div>\n                            </a>\n                        )\n                    } ) }\n\n                </div>\n            )\n        }\n    };\n\n    render() {\n        const { query, loading, message, currentPageNo, totalPages  } = this.state;\n\n        const showPrevLink = 1 < currentPageNo;\n        const showNextLink = totalPages > currentPageNo;\n        // console.log(this.state)\n        return (\n            <div className=\"container\">\n                {/*\tHeading*/}\n                <h2 className=\"heading\">Let's find some crops</h2>\n                {/* Search Input*/}\n                <label className=\"search-label\" htmlFor=\"search-input\">\n                    <input\n                        type=\"text\"\n                        name=\"query\"\n                        value={ query }\n                        id=\"search-input\"\n                        placeholder=\"Search...\"\n                        onChange={this.handleOnInputChange}\n                        />\n                    <i className=\"fas fa-search search-icon\" aria-hidden=\"true\" />\n                </label>\n\n                    {/*error*/}\n                { message && <p className=\"message\">{ message }</p>}\n\n                    {/*Loader*/}\n                    <img src={ Loader } className={`search-loading ${ loading ? 'show' : 'hide'}`} alt=\"loader\"/>\n\n                    {/*Navigation*/}\n                    <PageNavigation\n                        loading={ loading }\n                        showPrevLink={ showPrevLink }\n                        showNextLink={ showNextLink }\n                        handlePrevClick={ (event) => this.handlePageClick('prev', event )}\n                        handleNextClick={ (event) => this.handlePageClick('next', event )}\n                    />\n\n                    {/*result*/}\n                    { this.renderSearchResults() }\n\n                {/*Navigation*/}\n                <PageNavigation\n                    loading={ loading }\n                    showPrevLink={ showPrevLink }\n                    showNextLink={ showNextLink }\n\n                    handlePrevClick={ (event) => this.handlePageClick('prev', event)}\n                    handleNextClick={ (event) => this.handlePageClick('next', event)}\n                />\n\n                    </div>\n        )\n    }\n}\n\n\nexport default Search;\n","/Users/wendymichels/WebstormProjects/greenery/src/components/Footer.js",[],"/Users/wendymichels/WebstormProjects/greenery/src/pages/UpdateUser.js",[],"/Users/wendymichels/WebstormProjects/greenery/src/components/PageNavigation.js",["75","76","77","78"],"import React from 'react';\nimport './Styles/Search.css'\n\nexport default ( props ) => {\n    const {\n                loading,\n                showPrevLink,\n                showNextLink,\n                handlePrevClick,\n                handleNextClick\n            } = props;\n    return (\n        <div className='nav-link-container'>\n            <a\n                href=\"#\"\n                className={\n                    `nav-link \n                    ${ showPrevLink ? 'show' : 'hide' }\n                    ${ loading ? 'greyed-out' : ''\n                    }`\n                }\n                onClick={ handlePrevClick }\n            >\n                Prev\n            </a>\n            <a\n                href=\"#\"\n                className={\n                    `nav-link \n                    ${showPrevLink ? 'show' : 'hide'}\n                    ${loading ? 'greyed-out' : ''}\n                    `}\n                onClick={ handleNextClick }\n            >\n                Next\n            </a>\n        </div>\n    )\n}\n",{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":20,"column":8,"nodeType":"85","endLine":20,"endColumn":10,"suggestions":"86"},{"ruleId":"83","severity":1,"message":"87","line":23,"column":8,"nodeType":"85","endLine":23,"endColumn":25,"suggestions":"88"},{"ruleId":"89","severity":1,"message":"90","line":6,"column":13,"nodeType":"91","messageId":"92","endLine":6,"endColumn":28},{"ruleId":"83","severity":1,"message":"87","line":16,"column":8,"nodeType":"85","endLine":16,"endColumn":25,"suggestions":"93"},{"ruleId":"89","severity":1,"message":"94","line":8,"column":23,"nodeType":"91","messageId":"92","endLine":8,"endColumn":35},{"ruleId":"89","severity":1,"message":"95","line":9,"column":21,"nodeType":"91","messageId":"92","endLine":9,"endColumn":34},{"ruleId":"89","severity":1,"message":"96","line":13,"column":19,"nodeType":"91","messageId":"92","endLine":13,"endColumn":27},{"ruleId":"97","severity":1,"message":"98","line":62,"column":13,"nodeType":"99","endLine":62,"endColumn":50},{"ruleId":"100","severity":1,"message":"101","line":115,"column":37,"nodeType":"99","endLine":115,"endColumn":117},{"ruleId":"102","severity":1,"message":"103","line":4,"column":1,"nodeType":"104","endLine":39,"endColumn":2},{"ruleId":"89","severity":1,"message":"105","line":8,"column":17,"nodeType":"91","messageId":"92","endLine":8,"endColumn":29},{"ruleId":"106","severity":1,"message":"107","line":14,"column":13,"nodeType":"99","endLine":23,"endColumn":14},{"ruleId":"106","severity":1,"message":"107","line":26,"column":13,"nodeType":"99","endLine":34,"endColumn":14},"no-native-reassign",["108"],"no-negated-in-lhs",["109"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'authState'. Either include it or remove the dependency array. You can also do a functional update 'setAuthState(a => ...)' if you only need 'authState' in the 'setAuthState' call.","ArrayExpression",["110"],"React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["111"],"no-unused-vars","'isAuthenticated' is assigned a value but never used.","Identifier","unusedVar",["112"],"'setBaseImage' is assigned a value but never used.","'toggleLoading' is assigned a value but never used.","'response' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'showNextLink' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-global-assign","no-unsafe-negation",{"desc":"113","fix":"114"},{"desc":"115","fix":"116"},{"desc":"115","fix":"117"},"Update the dependencies array to be: [authState]",{"range":"118","text":"119"},"Update the dependencies array to be: [history, isAuthenticated]",{"range":"120","text":"121"},{"range":"122","text":"121"},[468,470],"[authState]",[742,759],"[history, isAuthenticated]",[440,457]]